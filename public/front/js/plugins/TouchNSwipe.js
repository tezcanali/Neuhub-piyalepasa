!function(a){var e=navigator.userAgent;function d(){}d.isFirefox=0<=e.indexOf("firefox"),d.isAndroid=0<=e.indexOf("Android"),d.androidVer=d.isAndroid?parseFloat(e.slice(e.indexOf("Android")+8)):null,d.objectToString=function(e){return"{"+function(e){var t,n=[];for(var o in e)e.hasOwnProperty(o)&&((t=e[o])&&"object"==typeof t?n[n.length]=o+":{ "+arguments.callee(t).join(", ")+"}":"string"==typeof t?n[n.length]=[o+': "'+t.toString()+'"']:null!=t&&(n[n.length]=[o+": "+t.toString()]));return n}(e).join(", ")+"}"},d.getRealValue=function(e){if(void 0!==(val=e))if(isNaN(Number(e)))if(void 0===e.toLowerCase||"true"!=e.toLowerCase()&&"false"!=e.toLowerCase()){var t=d.getObj(e);null!=t&&(val=t)}else val="true"==e.toLowerCase();else val=Number(e);return val},d.getObj=function(e){for(var t=a,n=(e=void 0===e?"":e).split("."),o=n.length,i=0;i<o;i++)void 0!==t[n[i]]?t=t[n[i]]:i=o;return t=t!==a?t:null},d.getObjects=function(e){var t,n=e.split(";"),o=[],i=n.length;for(0==i&&(i=(n=e.split(",")).length),t=0;t<i;t++){var a=d.hyphenToCamelCase(d.trimSpaces(n[t])),r=d.getObj(a);if(null!=r)if($.isArray(r)){var s,l=r.length;for(s=0;s<l;s++)o.push(r[s])}else o.push(r)}return o},d.getScope=function(e){var t=a,n=e.split(".");if(0<n.length)for(var o=n.length,i=1;i<o-1;i++)void 0!==t[n[i]]?t=t[n[i]]:i=o;return t},d.getParams=function(e){var t=null;if(void 0!==e){t=[];var n,o=e.split(",");o.length;for(n=0;n<o.length;n++)t.push(d.getRealValue(d.trimSpaces(o[n])))}return t},d.trimSpaces=function(e){var t="";if(void 0!==e){var n,o=(t=e).length,i=0,a=o-1;for(n=0;n<o;n++)" "!=t.charAt(n)&&(i=n,n=o);for(n=o-1;0<=n;n--)" "!=t.charAt(n)&&(a=n,n=-1);t=t.substr(i,a-i+1)}return t},d.getAttrObjectFromString=function(e,t){var n=null==t?{}:t;if(""!=(e=e||"")){var o,i=e.split(";"),a=i.length;for(0==a&&(a=(i=e.split(",")).length),o=0;o<a;o++){var r=i[o].split(":"),s=d.hyphenToCamelCase(d.trimSpaces(r[0])),l=d.getRealValue(d.trimSpaces(r[1]));""!=s&&(n[s]=l)}}return n},d.getChildAttrObjectFromElem=function(e,t){for(var n={},o=e.children(),i=o.length,a=0;a<i;a++){if(o.eq(a).is(t))for(var r=o.get(a),s=0;s<r.attributes.length;s++){var l=r.attributes[s];n[l.name]=getRealValue(l.value)}}return n},d.hyphenToCamelCase=function(e){return e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})},d.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},d.preventGestureDefault=function(e){e.gesture.preventDefault()},d.shuffleArray=function(e){for(var t,n,o=e.length;0!==o;)n=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[n],e[n]=t;return e},d.isSameArray=function(e,t){var n=!0;if($.isArray(e)&&$.isArray(t)&&e.length==t.length)for(var o=0;o<e.length;o++)e[o]!=t[o]&&(n=!1,o=e.length);else n=!1;return n},a.Utils=d}(window),function(Ee){function qe(e,p,t){TweenLite.defaultOverwrite="auto";var r,s,l,d,n,o,h=$.extend({minDragDistance:100,animDuration:.3,maxZoom:5,minZoom:1,ease:Power4.easeOut,loop:!0,allowZoom:!0,allowDrag:!0,doubleTapZoom:2,zoomStep:.5,dragStep:10,adjustWidth:0,adjustHeight:0,playDuration:5,autoPlay:!1,loadIndexOnly:!0,preloaderUrl:"assets/preloader.gif",resizeDuration:-1},t),i=$(e),m=$("<div style='width:100%; height:100%; left:0px; top:0px; position:absolute;'></div>"),a="<img style='position:absolute; max-width:none; display:block;'>",u=Modernizr.rgba?"1px solid rgba(255, 0, 0, 0.0)":"1px solid transparent",g=$("<div style='width:100%; height:100%; left:-100%; top:-1px; position:absolute; border: "+u+";'></div>"),f=$("<div style='width:100%; height:100%; left:-1px; top:-1px; position:absolute; border: "+u+";'></div>"),c=$("<div style='width:100%; height:100%; left:100%; top:-1px; position:absolute; border: "+u+";'></div>"),b=$("<div style='width:1px; height:1px; left:-1px; top:-1px; position:absolute; overflow:hidden'></div>"),v=$(a).load(Ae),x=$(a).load(Ae),j=$(a).load(Ae),w=0,O=1,y=1,T=0,M=0,A={spx:0,spy:0,nspx:0,nspy:0,cx:0,cy:0},S={spx:0,spy:0,nspx:0,nspy:0,cx:0,cy:0},k={spx:0,spy:0,nspx:0,nspy:0,cx:0,cy:0},z=0,I=0,P=0,U=0,H=null,D=(Modernizr.csstransforms3d,Modernizr.csstransforms),B=-1,C=-1,L=0,N=!1,F=0,V=0,E=0,q=0,Z=-1,G=0,_=-1,R=!1,W=!1,X=!0,Y=0,J=0,K=null,Q=h.autoPlay,ee="string"===$.type(h.preloaderUrl)?$("<img>").load(function(e){te=ee.width(),ne=ee.height(),ee.remove();var t=h.preloaderUrl;v.attr("src",t),x.attr("src",t),j.attr("src",t)}):null,te=0,ne=0,oe=-1,ie=!0,ae={},re=[[],[],[],[]];function se(e,t){if(!isNaN(e)&&X){X=!1,t=t||!1,e<0?e=0:e>p.length-1&&(e=p.length-1);var n={transformPerspective:500,ease:h.ease,onComplete:Le};if(F!=e){if(w=e,t){var o=0;F+1==w||h.loop&&F==p.length-1&&0==w?(D?n.x=-T:n.marginLeft=-T,o=h.animDuration):(F-1==w||h.loop&&0==F&&w==p.length-1)&&(D?n.x=T:n.marginLeft=T,o=h.animDuration),TweenMax.to(m,o,n)}else Le();F=w,Ve(qe.INDEX_CHANGE)}else D?n.x=0:n.marginLeft=0,n.onCompleteParams=[!1],TweenMax.to(m,h.animDuration,n)}return-1==oe?w:w%oe}function le(e,t){t=t||"",Ae(),p[e].loaded||(h.loadIndexOnly&&e==w||!h.loadIndexOnly)&&(p[e].image.remove(),p[e].image=null,p[e].image=$("<img alt='"+p[e].caption+"' style='position:absolute; max-width:none;'>").load({index:e},Se).error({index:e},$e),b.append(p[e].image),TweenMax.set(p[e].image,{autoAlpha:0}),e==w&&TweenMax.to(p[e].image,3,{onComplete:le,onCompleteParams:[e,"(RELOAD)"]}),p[e].image.attr("src",p[e].url))}function de(){me(!0),null!==K&&K.play(0)}function ue(){null==K&&(K=TweenMax.to(this,h.playDuration,{onComplete:de}),Q=!0,Ve(qe.AUTOPLAY))}function pe(){null!==K&&(K.kill(),K=null,Q=!1,Ve(qe.AUTOPLAY))}function he(e){return void 0!==e&&(e?ue():pe()),Q}function me(e){1==O&&0==L&&X&&0==q&&(w+1<p.length||h.loop)&&(e=void 0!==e&&e,se((w+1)%p.length,e))}function ge(e,t){void 0!==e&&h.allowZoom&&(t=isNaN(t)?h.animDuration:t,Fe(.5*r,.5*s),O=e,Be(),De(),y=O,fe(t));return O}function fe(e){var t={transformPerspective:500,position:"absolute",ease:h.ease};e=isNaN(e)?h.animDuration:e,null!==Utils.androidVer&&Utils.androidVer<3?(t.width=n,t.height=o):t.scale=O,D?(t.x=z,t.y=I):(t.marginLeft=z,t.marginTop=I),TweenMax.to(p[w].image,e,t),Ve(qe.ZOOM)}function ce(e,t,n,o){h.allowZoom&&(Y=i.offset().left,J=i.offset().top,Fe((e.pageX-l-z-Y)/y,(e.pageY-d-I-J)/y),0<t?O+=h.zoomStep:O-=h.zoomStep,Be(),De(),y=O,fe())}function be(e){ie&&((q=1)!=Z&&Oe(),Z=q)}function ve(e){ie&&((q=0)!=Z&&Oe(),Z=q)}function xe(e){var t=e.type;void 0!==t&&-1!=t.indexOf("ointer")?"pointerdown"==t||"MSPointerDown"==t?q++:"pointerup"!=t&&"MSPointerUp"!=t||--q<0&&(q=0):0<(q=e.originalEvent.touches.length)?TweenMax.to(ae,0,{onComplete:we}):TweenMax.to(ae,.5,{onComplete:je}),q!=Z&&Oe(),Z=q}function je(){f.on("mousedown",be),f.on("mouseup mouseleave",ve),ie=!0}function we(){f.off("mousedown",be),f.off("mouseup mouseleave",ve),ie=!1}function Oe(){var e=(G=1<q?2:q)!=_;1==q?(!N&&X&&(W=e,Me(),h.allowDrag&&H.on("drag",Ce)),2==_&&(y=O)):1<q?!N&&X&&(R=e,Te(),ye()):(Me(),Te(),function(){if(N){var e=p.length,t=w;(t+1<e||h.loop)&&L<-h.minDragDistance?t=h.loop?(t+1)%e:t+1:(0<=t-1||h.loop)&&L>h.minDragDistance&&--t<0&&(t=e-1),se(t,!0),N=!1}else y=O;ye()}()),_=G}function ye(){h.allowZoom&&(H.on("transform",He),f.on("mousewheel",ce))}function Te(){H.off("drag",Ce)}function Me(){H.off("transform",He),f.off("mousewheel",ce)}function Ae(e){var t=.5*(T-te)+"px",n=.5*(M-ne)+"px";TweenMax.set([v,x,j],{position:"absolute",maxWidth:"none",x:t,y:n,transformPerspective:500})}function Se(e){var t=e.data.index;p[t].width=p[t].image.width(),p[t].height=p[t].image.height(),p[t].loaded=!0,TweenMax.to(p[t].image,h.animDuration,{autoAlpha:1,ease:h.ease}),w-1<=t&&t<=w+1?(TweenMax.set(p[t].image,{display:"block"}),ke(t),t==w?(Ie(),x.detach(),f.append(p[t].image)):t==w-1?(v.detach(),g.append(p[t].image)):(j.detach(),c.append(p[t].image))):h.loop&&(t==p.length-1&&0==w||0==t&&w==p.length-1)?(TweenMax.set(p[t].image,{display:"block"}),ke(t),t==p.length-1?(v.detach(),g.append(p[t].image)):(j.detach(),c.append(p[t].image))):TweenMax.set(p[t].image,{display:"none"})}function $e(e){var t=e.data.index;p[t].retry<3&&(p[t].loaded=!1,p[t].image.attr("src",p[t].url),p[t].retry++)}function ke(e){if(0<=e&&e<p.length&&p[e].loaded){0!=p[e].width&&0!=p[e].height||(p[e].width=p[e].image.width(),p[e].height=p[e].image.height());var t=p[e].width,n=p[e].height,o=T/t,i=o;M<n*o&&(i=M/n),(0==t||0==n||isNaN(i))&&(i=1),newSlideImageWidth=t*i,newSlideImageHeight=n*i,realImageLeft=.5*(T-newSlideImageWidth)>>0,realImageTop=.5*(M-newSlideImageHeight)>>0,e==w&&(t,n,r=newSlideImageWidth,s=newSlideImageHeight,l=realImageLeft,d=realImageTop);var a={width:newSlideImageWidth,height:newSlideImageHeight,left:realImageLeft+"px",top:realImageTop+"px",scale:1,transformOrigin:"0 0"};D?(a.x=0,a.y=0):(a.marginLeft=0,a.marginTop=0),TweenMax.set(p[e].image,a)}}function ze(){if(T=m.width()+h.adjustWidth+2,M=m.height()+h.adjustHeight+2,B!=T||C!=M){TweenMax.set([g,f,c],{width:T+"px",height:M+"px"}),TweenMax.set([g],{left:-T-1+"px"}),TweenMax.set([c],{left:T-1+"px"}),0!=te&&Ae(),Pe(),L=0,Ie();var e={width:"100%",height:"100%",position:"absolute"};D?(e.x=0,e.y=0):(e.marginLeft=0,e.marginTop=0),TweenMax.set(m,{css:e}),G=q=0,X=!(N=!(_=-1)),B=T,C=M}}function Ie(){O=y=1,A={spx:I=z=0,spy:0,nspx:0,nspy:0,cx:0,cy:0},S={spx:0,spy:0,nspx:0,nspy:0,cx:0,cy:0},k={spx:0,spy:0,nspx:0,nspy:0,cx:0,cy:0},Ve(qe.ZOOM)}function Pe(){Ie(),ke(w),0<=w-1?ke(w-1):h.loop&&ke(p.length-1),w+1<p.length?ke(w+1):h.loop&&ke(0)}function Ue(e){Y=i.offset().left,J=i.offset().top,Fe((e.gesture.touches[0].pageX-l-z-Y)/y,(e.gesture.touches[0].pageY-d-I-J)/y),R=!1,O=1==y?h.doubleTapZoom:1,Be(),n=r*O,o=s*O,De(),y=O,fe()}function He(e){R&&(Y=i.offset().left,J=i.offset().top,Fe((e.gesture.center.pageX-l-z-Y)/y,(e.gesture.center.pageY-d-I-J)/y),R=!1);O=y*e.gesture.scale,Be(),n=r*O,o=s*O,De(),fe()}function De(){(n=r*O)<=T?z=.5*(T-n)-l:(0<z+l||z+n+l<T)&&(0<z+l?z=-l:z+n+l<T&&(z=T-n-l)),(o=s*O)<=M?I=.5*(M-o)-d:(0<I+d||I+o+d<M)&&(0<I+d?I=-d:I+o+d<M&&(I=M-o-d)),z>>=0,I>>=0}function Be(){O>h.maxZoom?O=h.maxZoom:O<h.minZoom&&(O=h.minZoom),k.spx=S.spx,k.spy=S.spy,k.nspx=k.spx*O,k.nspy=k.spy*O,k.cx=k.spx-k.nspx>>0,k.cy=k.spy-k.nspy>>0,z=A.cx+k.cx-S.cx,I=A.cy+k.cy-S.cy}function Ce(e){W&&(V=e.gesture.touches[0].pageX,E=e.gesture.touches[0].pageY,P=z,U=I,W=!1),z=P+e.gesture.touches[0].pageX-V,I=U+e.gesture.touches[0].pageY-E,function(){var e=z;if(De(),N=!1,e!=z){var t=-(z-e);Ne(t),N=!0}else Ne(0);var n={transformPerspective:500,ease:h.ease};D?(n.x=z,n.y=I):(n.marginLeft=z,n.marginTop=I);TweenMax.to(p[w].image,h.animDuration,n),Ve(qe.DRAG)}()}function Le(e){(e=void 0===e||e)&&function(){f.empty(),g.empty(),c.empty();var e={display:"block"};TweenMax.set(p[w].image,e),p[w].loaded||f.append(x),le(w),f.append(p[w].image),0<=w-1?(TweenMax.set(p[w-1].image,e),p[w-1].loaded||g.append(v),le(w-1),g.append(p[w-1].image)):h.loop&&0==w&&(TweenMax.set(p[p.length-1].image,e),p[p.length-1].loaded||g.append(v),le(p.length-1),g.append(p[p.length-1].image)),w+1<p.length?(TweenMax.set(p[w+1].image,e),p[w+1].loaded||c.append(j),le(w+1),c.append(p[w+1].image)):h.loop&&w==p.length-1&&(TweenMax.set(p[0].image,e),p[0].loaded||c.append(j),le(0),c.append(p[0].image)),Pe(),e={width:"100%",height:"100%",position:"absolute"},D?(e.x=0,e.y=0):(e.marginLeft=0,e.marginTop=0),TweenMax.to(m,0,{css:e})}(),X=!(L=0)}function Ne(e){L=e;var t={transformPerspective:500,immediateRender:!1,ease:h.ease};D?t.x=L:t.marginLeft=L,TweenMax.to(m,0,t)}function Fe(e,t){A.spx=k.spx,A.spy=k.spy,A.nspx=k.nspx,A.nspy=k.nspy,A.cx=z,A.cy=I,S.spx=e>>0,S.spy=t>>0,S.nspx=S.spx*y,S.nspy=S.spy*y,S.cx=S.spx-S.nspx>>0,S.cy=S.spy-S.nspy>>0,O=y}function Ve(e){var t=$.inArray(e,qe.eventTypes);if(-1<t){var n=re[t],o=0;for(o=0;o<n.length;o++)n[o].handler.apply(null,n[o].handlerParams)}}g.append(v),f.append(x),c.append(j),$("body").append(b),m.append(g),m.append(c),m.append(f),null!=ee&&(TweenMax.set(ee,{autoAlpha:0}),b.append(ee),ee.attr("src",h.preloaderUrl)),i.append(m),TweenMax.set(b,{autoAlpha:0}),i.on("mousedown",Utils.preventDefault),i.on("mousemove",Utils.preventDefault),(h.allowZoom||h.minZoom!=h.maxZoom)&&i.on("mousewheel",Utils.preventDefault),function(){if($.isArray(p)){var e=p.length;if(0<e){for(var t=0;t<e;t++){var n=p[t];if(null!==n.url){n.url;var o=void 0!==h&&"string"===$.type(n.caption)?n.caption:"";p[t].width=0,p[t].height=0,p[t].loaded=!1,p[t].retry=0,p[t].image=$("<img alt='"+o+"' style='position:absolute; max-width:none;'>").load({index:t},Se).error({index:t},$e),TweenMax.set(p[t].image,{autoAlpha:0})}}if(h.loop){var i,a,r,s,l,d;if(0<e&&e<=2)1==e?(i=$("<img alt='"+o+"' style='position:absolute'>").load({index:e},Se).error({index:e},$e),r=p[0].url,l=p[0].caption,a=$("<img alt='"+o+"' style='position:absolute'>").load({index:e+1},Se).error({index:e+1},$e),s=p[0].url,d=p[0].caption,oe=1):2==e&&(i=$("<img alt='"+o+"' style='position:absolute'>").load({index:e},Se).error({index:e},$e),r=p[0].url,l=p[0].caption,a=$("<img alt='"+o+"' style='position:absolute'>").load({index:e+1},Se).error({index:e+1},$e),s=p[1].url,d=p[1].caption,oe=2),b.append(i),b.append(a),p.push({image:i,url:r,caption:l,width:0,height:0,loaded:!1,retry:0}),p.push({image:a,url:s,caption:d,width:0,height:0,loaded:!1,retry:0});le(p.length-1)}else 1==e?(v.detach(),j.detach()):2==e&&v.detach();1<e&&le(1),le(0),he(Q)}}$(Ee).on("resize",ze),(H=m.hammer({drag_min_distance:0,swipe:!1,drag_max_touches:4})).on("drag",Utils.preventGestureDefault),H.on("transform",Utils.preventGestureDefault);var u="touchstart touchend";Ee.PointerEvent?u="pointerdown pointerup":Ee.MSPointerEvent?u="MSPointerDown MSPointerUp":je();H.on(u,xe),h.allowZoom&&(f.on("mousewheel",ce),H.on("doubletap",Ue))}(),ze(),!isNaN(h.resizeDuration)&&0<h.resizeDuration&&TweenMax.to(this,h.resizeDuration,{onRepeat:ze,repeat:-1}),this.index=se,this.next=me,this.prev=function(e){if(1==O&&0==L&&X&&0==q&&(0<=w-1||h.loop)){e=void 0!==e&&e;var t=w;0<t?t--:t=p.length-1,se(t,e)}},this.zoom=ge,this.zoomIn=function(){ge(O+h.zoomStep)},this.zoomOut=function(){ge(O-h.zoomStep)},this.play=ue,this.pause=pe,this.autoPlay=he,this.caption=function(){var e=null;0<=w&&w<p.length&&(e=p[w].caption);return e},this.resize=ze,this.on=function(e,t,n){if($.isFunction(t)){var o=null,i=null,a=$.inArray(e,qe.eventTypes);if(n=$.isArray(n)?n:null,-1<a){i=re[a];var o={handler:t,handlerParams:n};-1<!$.inArray(o,i)&&i.push(o)}}},this.off=function(e,t,n){if($.isFunction(t)){var o=null,i=$.inArray(e,qe.eventTypes),a=!1;if(void 0!==n&&(n=$.isArray(n)?n:null,a=!0),-1<i)for(var r=(o=re[i]).length-1;0<=r;r--)o[r].handler!=t||a&&!Utils.isSameArray(o[r].handlerParams,n)||o.splice(r,1)}},this.vars=h,this.slides=p}qe.eventTypes=[qe.INDEX_CHANGE="indexchange",qe.ZOOM="zoom",qe.AUTOPLAY="autoplay",qe.DRAG="drag"],Ee.ImageSlider=qe}(window),function(Q){function ee(e,p,t){TweenLite.defaultOverwrite="auto";var h=$.extend({thumbWidth:75,thumbHeight:75,animDuration:.5,ease:Power4.easeOut,preloaderUrl:"assets/preloader.gif",scaleMode:"proportionalOutside",borderThickness:2,borderColor:"#1ae9f1",defaultBorderColor:"transparent",space:0,friction:1,overScroll:100,initShow:!1,resizeDuration:-1,showCssObj:{autoAlpha:1},hideCssObj:{autoAlpha:0},setHolderVisibility:!0},t),m=$(e),g=m.width(),f=m.height(),n=0,o=0,c=h.thumbWidth+2*h.borderThickness,l=h.thumbHeight+2*h.borderThickness,b=(h.thumbWidth+h.space)*p.length-h.space+2*h.borderThickness,v=$("<div style='width:"+(b-1)+"px; height:"+(h.thumbHeight+2*h.borderThickness)+"px; left:0px; top:0px; position:absolute;'></div>"),a=$("<div style='width:1px; height:1px; left:-1px; top:-1px; position:absolute; overflow:none'></div>"),x=Modernizr.csstransforms,j=0,i=0,w=0,r=0,s=0,d=(w=0,0),u=1,O=0,y=0,T=!1,M=h.initShow,A=h.showCssObj,S=h.hideCssObj,k=!1,z="string"===$.type(h.preloaderUrl)?$("<img>").load(function(e){I=.5*(h.thumbWidth-z.width())+"px",P=.5*(h.thumbHeight-z.height())+"px",z.remove();for(var t=h.preloaderUrl,n=p.length,o=0;o<n;o++)null!=p[o].preloaderImage&&p[o].preloaderImage.attr("src",t)}):null,I=0,P=0,U=Utils.isFirefox&&Utils.isAndroid,H=m.parent(),D=h.setHolderVisibility&&"thumbsHolder"==H.data("elem"),B=[[],[]];function C(e,t){if("boolean"===$.type(e)){var n=M;M=e,t=void 0===t||isNaN(t)?h.animDuration:t;var o=M?A:S,i=new TimelineMax;D&&M&&i.add(TweenMax.to(H,0,{display:"block",overwrite:"all"})),i.add(TweenMax.to(m,t,o)),D&&!M&&i.add(TweenMax.to(H,0,{display:"none",overwrite:"all",immediateRender:!1})),M&&!k&&i.add(L),M&&X(),n!=M&&K(ee.TOGGLE)}return M}function L(){var e=p.length;k=!0;for(var t=0;t<e;t++)p[t].resized||(p[t].loaded&&_(t),p[t].resized||(k=!1))}function N(e){g=m.width(),f=m.height(),b<g?T=!1:(T=!0,r=e.gesture.touches[0].pageX,s=w,O=y,y=r,q())}function F(e){if(T){O=y,y=e.gesture.touches[0].pageX,w=s+y-r;var t={transformPerspective:500,immediateRender:!1,ease:h.ease};x?t.x=w:t.marginLeft=w,TweenMax.to(v,0,t)}}function V(e){T&&(u=O-y<0?1:-1,d=Math.abs(O-y),TweenLite.ticker.addEventListener("tick",E)),T=!1}function E(){0<d?(w+=d*u,b<g?d=0:w>h.overScroll?(d=0,w=h.overScroll):w+b-g<-h.overScroll&&(d=0,w=-h.overScroll-b+g),X(0,!1,!1),d-=h.friction):(X(h.animDuration),q())}function q(e){d=0,TweenLite.ticker.removeEventListener("tick",E)}function Z(e){var t=e.data.index;p[t].loaded||(TweenMax.set(p[t].preloaderImage,{position:"absolute",left:I,top:P}),TweenMax.to(p[t].preloaderImage,h.animDuration,{autoAlpha:1}))}function G(e){var t=e.data.index;p[t].loaded=!0,void 0!==p[t].preloaderImage&&null!==p[t].preloaderImage&&(p[t].preloaderImage.remove(),p[t].preloaderImage=null),_(t),p[t].div.append(p[t].image),p[t].div.hammer({drag_min_distance:0,prevent_default:!0,swipe:!1,drag_max_touches:1}).on("tap",{index:t},R)}function _(e){if(!p[e].resized){var t=p[e].image.width(),n=p[e].image.height();if(0!=t&&0!=n){var o,i,a=t*(l/n),r=n*(c/t);"proportionalInside"==h.scaleMode?r<=l?(a=c)/a:(r=l)/r:"proportionalOutside"==h.scaleMode?l<=r?(a=c)/a:(r=l)/r:(a=t,r=n),o=.5*(c-a),i=.5*(l-r);var s=new TimelineMax;s.add(TweenMax.to(p[e].image,0,{width:a+"px",height:r+"px",x:o,y:i,position:"absolute"})),s.add(TweenMax.to(p[e].image,h.animDuration,{autoAlpha:1,display:"block",ease:h.ease})),p[e].resized=!0}}}function R(e){J(e.data.index)}function W(e){g=m.width(),f=m.height(),n==g&&o==f||(X(),n=g,o=f)}function X(e,t,n){g=m.width(),f=m.height(),e=e||0,t=void 0===t||t,n=void 0!==n&&n;var o={transformPerspective:500,width:b,ease:h.ease},i=j*(h.thumbWidth+h.space),a=!1,r={immediateRender:!1},s=!1;if(t&&(b<g?(w=.5*(g-b),a=!0):0<w?w=0:w+b-g<0?w=-(b-g):U&&(s=!0)),n&&(w+i<0?w=-i:g<w+i+c?w=g-(i+c):U&&(s=!0)),x?(o.x=w,r.x=w-1):(o.marginLeft=w,r.marginLeft=w-1),!k&&t){var l=0,d=0;(d=a?p.length-1:(l=Math.abs(Math.ceil(w/c)))+Math.ceil(g/c))>p.length-1&&(d=p.length-1),o.onComplete=Y,o.onCompleteParams=[l,d]}var u=new TimelineMax;U&&s&&u.add(TweenMax.to(v,0,r)),u.add(TweenMax.to(v,e,o))}function Y(e,t){for(var n=e;n<=t;n++)p[n].loaded||p[n].image.attr("src",p[n].url)}function J(e){return void 0===e||isNaN(e)||(e<0?e=0:e>p.length-1&&(e=p.length-1),i!=e&&(j=e,TweenMax.set(p[i].div,{border:h.borderThickness+"px solid "+h.defaultBorderColor}),TweenMax.set(p[j].div,{border:h.borderThickness+"px solid "+h.borderColor}),v.append(p[j].div),i=j,K(ee.INDEX_CHANGE)),X(h.animDuration,!0,!0)),j}function K(e){var t=$.inArray(e,ee.eventTypes);if(-1<t){var n=B[t],o=0;for(o=0;o<n.length;o++)n[o].handler.apply(null,n[o].handlerParams)}}TweenMax.set(a,{autoAlpha:0}),$("body").append(a),null!=z&&(TweenMax.set(z,{autoAlpha:0}),a.append(z),z.attr("src",h.preloaderUrl)),TweenMax.set(m,{overflow:"hidden",height:l+"px",minHeight:l+"px"}),m.append(v),function(){if($.isArray(p)){var e=p.length;if(0<e){for(var t=0;t<e;t++){var n=p[t];if(null!==n.url){n.url;var o=void 0!==h&&"string"===$.type(n.caption)?n.caption:"",i=j==t?h.borderColor:h.defaultBorderColor;p[t].width=0,p[t].height=0,p[t].loaded=!1,p[t].resized=!1,p[t].image=$("<img alt='"+o+"' style='position:absolute; max-width:none;'>").load({index:t},G),p[t].div=$("<div style='position:absolute; overflow:hidden; width:"+h.thumbWidth+"px; height:"+h.thumbHeight+"px; left:"+(h.thumbWidth+h.space)*t+"px; border:"+h.borderThickness+"px solid "+i+";' >"),null!==z&&(p[t].preloaderImage=$("<img style='position:absolute; max-width:none; display:block;'>").load({index:t},Z),p[t].div.append(p[t].preloaderImage)),a.append(p[t].image),v.append(p[t].div),TweenMax.set(p[t].image,{autoAlpha:0})}}0<e&&v.append(p[0].div),W()}}$(Q).on("resize",W),touchHandler=v.hammer({drag_min_distance:0,prevent_default:!0,swipe:!1,drag_max_touches:4}),touchHandler.on("hold",q),touchHandler.on("dragstart",N),touchHandler.on("drag",F),touchHandler.on("dragend",V),C(M,0)}(),m.on("mousedown",Utils.preventDefault),m.on("mousemove",Utils.preventDefault),!isNaN(h.resizeDuration)&&0<h.resizeDuration&&TweenMax.to(this,h.resizeDuration,{onRepeat:W,repeat:-1}),this.thumbs=p,this.index=J,this.show=C,this.vars=h,this.on=function(e,t,n){if($.isFunction(t)){var o=null,i=null,a=$.inArray(e,ee.eventTypes);if(n=$.isArray(n)?n:null,-1<a){i=B[a];var o={handler:t,handlerParams:n};-1<!$.inArray(o,i)&&i.push(o)}}},this.off=function(e,t,n){if($.isFunction(t)){var o=null,i=$.inArray(e,ee.eventTypes),a=!1;if(void 0!==n&&(n=$.isArray(n)?n:null,a=!0),-1<i)for(var r=(o=B[i]).length-1;0<=r;r--)o[r].handler!=t||a&&!Utils.isSameArray(o[r].handlerParams,n)||o.splice(r,1)}},this.resize=W}ee.eventTypes=[ee.INDEX_CHANGE="indexchange",ee.TOGGLE="toggle"],Q.PhysicsScroller=ee}(window),function(u){function p(e,t){TweenLite.defaultOverwrite="auto";var o=$.extend({animDuration:.5,ease:Power4.easeOut,initShow:!1,resizeDuration:-1,showCssObj:{autoAlpha:1},hideCssObj:{autoAlpha:0},setHolderVisibility:!0},t),i=$(e),a=o.initShow,n=0,s=[[]];function r(e){d()}function l(e,t){t=isNaN(Math.abs(t))?o.animDuration:Math.abs(t);var n=new TimelineMax;return void 0!==e&&((a=e)?(o.setHolderVisibility&&n.add(TweenMax.to(i.parent(),0,{display:"block",overwrite:"all"})),d(),n.add(TweenMax.to(i,t,o.showCssObj))):(n.add(TweenMax.to(i,t,o.hideCssObj)),o.setHolderVisibility&&n.add(TweenMax.to(i.parent(),0,{display:"none",overwrite:"all",immediateRender:!1}))),function(e){var t=$.inArray(e,p.eventTypes);if(-1<t){var n=s[t],o=0;for(o=0;o<n.length;o++)n[o].handler.apply(null,n[o].handlerParams)}}(p.TOGGLE)),a}function d(){var e=i.height();n!=e&&(TweenMax.set(i.parent(),{css:{height:e+"px"}}),n=e)}this.caption=i,this.vars=o,this.show=l,this.html=function(e){return i.html(e),d(),i.html()},this.resize=r,this.on=function(e,t,n){if($.isFunction(t)){var o=null,i=null,a=$.inArray(e,p.eventTypes);if(n=$.isArray(n)?n:null,-1<a){i=s[a];var o={handler:t,handlerParams:n};-1<!$.inArray(o,i)&&i.push(o)}}},this.off=function(e,t,n){if($.isFunction(t)){var o=null,i=$.inArray(e,p.eventTypes),a=!1;if(void 0!==n&&(n=$.isArray(n)?n:null,a=!0),-1<i)for(var r=(o=s[i]).length-1;0<=r;r--)o[r].handler!=t||a&&!Utils.isSameArray(o[r].handlerParams,n)||o.splice(r,1)}},!isNaN(o.resizeDuration)&&0<o.resizeDuration&&TweenMax.to(this,o.resizeDuration,{onRepeat:r,repeat:-1}),null!==Utils.androidVer&&Utils.androidVer<4.1&&TweenMax.set([i,i.parent()],{transformPerspective:500}),l(o.initShow,0),$(u).on("resize",r)}p.eventTypes=[p.TOGGLE="toggle"],u.Caption=p}(window),function(e){function C(){}function L(e){var t=0;if(null!=e){var n=C.objs.length;if(isNaN(e))for(var o=0;o<n;o++)C.objs[o].sliderHolder.get(0)==$(e).get(0)&&(t=o,o=n);else 0<=e&&e<n&&(t=e)}return t}function N(e){var t=e.data.index;if(0<=t&&t<C.linkObjs.length&&!C.linkObjs[t].removed){var n=C.linkObjs[t];if(!n.removed){var o=n.sliderIndex,i=n.index,a=n.slider;TweenMax.set(C.objs[o].sliderHolder,C.objs[o].sliderHolderShow),C.objs[o].sliderHolderVisibility&&TweenMax.set(C.objs[o].sliderHolder.parent(),{display:"block"}),a.index(i),a.resize(),TweenMax.to({},.1,{onComplete:a.resize})}}}function F(e){var t=e.data.index;C.objs[t].removed||(TweenMax.set(C.objs[t].sliderHolder,C.objs[t].sliderHolderHide),C.objs[t].sliderHolderVisibility&&TweenMax.set(C.objs[t].sliderHolder.parent(),{display:"none"}))}function V(e){0<=e&&e<C.objs.length&&!C.objs[e].removed&&ee(e)}function E(e){var t=e.data.index;if(0<=t&&t<C.objs.length&&!C.objs[t].removed){var n=C.objs[t].thumbScroller.show;n(!n())}}function q(e){0<=e&&e<C.objs.length&&!C.objs[e].removed&&((0,C.objs[e].thumbScroller.show)()?TweenMax.set(C.objs[e].thumbsToggleButton,C.objs[e].thumbsToggleOnObj):TweenMax.set(C.objs[e].thumbsToggleButton,C.objs[e].thumbsToggleOffObj))}function Z(e){var t=e.data.index;if(!C.objs[t].removed){var n=C.objs[t].slider.autoPlay;n(!n())}}function G(e){C.objs[e].removed||((0,C.objs[e].slider.autoPlay)()?TweenMax.set(C.objs[e].autoPlayButton,C.objs[e].autoPlayOnObj):TweenMax.set(C.objs[e].autoPlayButton,C.objs[e].autoPlayOffObj))}function _(e){var t=e.data.index;C.objs[t].removed||C.objs[t].captionObj.show(!C.objs[t].captionObj.show())}function R(e){var t=e.data.index;C.objs[t].removed||(C.objs[t].slider.zoom(1,0),C.objs[t].slider.prev(!0))}function W(e){var t=e.data.index;C.objs[t].removed||(C.objs[t].slider.zoom(1,0),C.objs[t].slider.next(!0))}function X(e){var t=e.data.index;C.objs[t].removed||C.objs[t].slider.zoomIn()}function Y(e){var t=e.data.index;C.objs[t].removed||C.objs[t].slider.zoomOut()}function J(e,t){if(0<=t&&t<C.objs.length&&!C.objs[t].removed){e=e||"slider";var n=C.objs[t].slider,o=C.objs[t].thumbScroller,i=void 0!==o?o.index():-1,a=n.index();-1!=i&&i!=a&&("slider"==e?o.index(a):n.index(i)),void 0!==C.objs[t].captionObj&&C.objs[t].captionObj.html(n.caption),Q(t),K(t)}}function K(e){if(!C.objs[e].removed)for(var t=C.objs[e].slider,n=0;n<C.linkObjs.length;n++)if(!C.linkObjs[n].removed){var o=C.linkObjs[n].slider;o==t&&(C.linkObjs[n].index==o.index()?TweenMax.set(C.linkObjs[n].imageLink,C.linkObjs[n].onObj):TweenMax.set(C.linkObjs[n].imageLink,C.linkObjs[n].offObj))}}function Q(e){if(0<=e&&e<C.objs.length&&!C.objs[e].removed&&!C.objs[e].slider.vars.loop){var t=C.objs[e].slider.index();0==t?TweenMax.set(C.objs[e].prevButton,C.objs[e].prevOffObj):TweenMax.set(C.objs[e].prevButton,C.objs[e].prevOnObj),t==C.objs[e].slider.slides.length-1?TweenMax.set(C.objs[e].nextButton,C.objs[e].nextOffObj):TweenMax.set(C.objs[e].nextButton,C.objs[e].nextOnObj)}}function ee(e){if(0<=e&&e<C.objs.length&&!C.objs[e].removed){var t=C.objs[e].slider.zoom();t==C.objs[e].slider.vars.minZoom?TweenMax.set(C.objs[e].zoomOutButton,C.objs[e].zoomOutOffObj):TweenMax.set(C.objs[e].zoomOutButton,C.objs[e].zoomOutOnObj),t==C.objs[e].slider.vars.maxZoom?TweenMax.set(C.objs[e].zoomInButton,C.objs[e].zoomInOffObj):TweenMax.set(C.objs[e].zoomInButton,C.objs[e].zoomInOnObj)}}TweenLite.defaultOverwrite="auto",C.objs=[],C.linkObjs=[],C.lastSliderIndex=0,C.lastLinkIndex=0,C.removeAll=function(){for(var e=C.objs.length,t=0;t<e;t++){var n=C.objs[t];n.removed||n.sliderHolder.remove(),C.objs[t]=null}for(C.objs=null,C.objs=[],e=C.linkObjs.length,t=0;t<e;t++)linkObj=C.linkObjs[t],linkObj.removed||linkObj.imageLink.remove(),C.linkObjs[t]=null;C.linkObjs=null,C.linkObjs=[]},C.remove=function(e){var t=-1,n=C.objs.length;if(isNaN(e))for(var o=0;o<n;o++)C.objs[o].id==e&&(t=o,o=n);else t=e;0<=t&&t<n&&(C.objs[t].sliderHolder.remove(),C.objs[t]=null,C.objs[t]={removed:!0})},C.removeLinkObj=function(e){var t=-1,n=C.linkObjs.length;if(isNaN(e))for(var o=0;o<n;o++)C.linkObjs[o].id==e&&(t=o,o=n);else t=e;0<=t&&t<n&&(C.linkObjs[t].imageLink.remove(),C.linkObjs[t]=null,C.linkObjs[t]={removed:!0})},C.getThumbScroller=function(e){return C.getObj(e).thumbScroller},C.getCaption=function(e){return C.getObj(e).captionObj},C.getSlider=function(e){return C.getObj(e).slider},C.getObj=function(e){var t=null;if(isNaN(e))for(var n=C.objs.length,o=0;o<n;o++)C.objs[o].id==e&&(t=C.objs[o],o=n);else 0<=e&&e<C.objs.length&&(t=C.objs[e]);return t},C.getLinkObj=function(e){var t=null;if(isNaN(e))for(var n=C.linkObjs.length,o=0;o<n;o++)C.linkObjs[o].id==e&&(t=C.linkObjs[o],o=n);else t=C.linkObjs[e];return t},C.init=function(){var e=$("*[data-elem='slider']"),t=e.length,n=0,o=0;for(n=0;n<t;n++){var i={},a=e.eq(n),r=a.find("[data-elem='items']").eq(0),s=a.find("[data-elem='slides']").eq(0),l=(y=a.find("[data-elem='thumbs']").eq(0)).length,d=C.objs.length;i.removed=!1,i.sliderHolder=a,i.id=i.sliderHolder.attr("id")||"sliderHolder"+C.lastSliderIndex,i.sliderHolderVars=$.extend({initShow:!0,setHolderVisibility:!0},Utils.getAttrObjectFromString(a.data("options"))),i.sliderHolderVisibility=i.sliderHolderVars.setHolderVisibility&&"sliderHolder"==i.sliderHolder.parent().data("elem"),i.sliderHolderShow=Utils.getAttrObjectFromString(a.data("show")),i.sliderHolderHide=Utils.getAttrObjectFromString(a.data("hide")),i.caption=a.find("[data-elem='caption']").eq(0),i.autoPlayButton=a.find("[data-elem='autoPlay']").eq(0),i.autoPlayOnObj=Utils.getAttrObjectFromString(i.autoPlayButton.data("on")),i.autoPlayOffObj=Utils.getAttrObjectFromString(i.autoPlayButton.data("off")),i.prevButton=a.find("[data-elem='prev']").eq(0),i.prevOnObj=Utils.getAttrObjectFromString(i.prevButton.data("on")),i.prevOffObj=Utils.getAttrObjectFromString(i.prevButton.data("off")),i.nextButton=a.find("[data-elem='next']").eq(0),i.nextOnObj=Utils.getAttrObjectFromString(i.nextButton.data("on")),i.nextOffObj=Utils.getAttrObjectFromString(i.nextButton.data("off")),i.zoomInButton=a.find("[data-elem='zoomIn']").eq(0),i.zoomInOnObj=Utils.getAttrObjectFromString(i.zoomInButton.data("on")),i.zoomInOffObj=Utils.getAttrObjectFromString(i.zoomInButton.data("off")),i.zoomOutButton=a.find("[data-elem='zoomOut']").eq(0),i.zoomOutOnObj=Utils.getAttrObjectFromString(i.zoomOutButton.data("on")),i.zoomOutOffObj=Utils.getAttrObjectFromString(i.zoomOutButton.data("off"));var u=r.find("li"),p=u.length,h=[],m=[];for(o=0;o<p;o++){var g,f,c,b,v=u.eq(o).children("a").eq(0),x=u.eq(o).find("[data-elem='imgCaption']").eq(0);0<v.length?(g=v.find("img").eq(0),f=v.attr("href"),c=g.attr("src")):f=c=(g=u.eq(o).find("img").eq(0)).attr("src");var j=g.attr("alt");b=0<x.length?x.html():null!=j?j:"",h.push({url:f,caption:b}),1==l&&(m.push({url:c,caption:b}),null!==Utils.androidVer&&Utils.androidVer<4.1&&TweenMax.set([y,y.parent()],{transformPerspective:500}))}r.remove();var w=Utils.getAttrObjectFromString(s.data("options")),O=new ImageSlider(s,h,w);if(O.on(ImageSlider.INDEX_CHANGE,J,["slider",d]),O.on(ImageSlider.ZOOM,V,[d]),O.on(ImageSlider.AUTOPLAY,G,[d]),i.slider=O,1==l){i.thumbsToggleButton=a.find("[data-elem='thumbsToggle']").eq(0),i.thumbsToggleOnObj=Utils.getAttrObjectFromString(i.thumbsToggleButton.data("on")),i.thumbsToggleOffObj=Utils.getAttrObjectFromString(i.thumbsToggleButton.data("off"));var y,T=Utils.getAttrObjectFromString(y.data("options")),M=Utils.getAttrObjectFromString(y.data("show")),A=Utils.getAttrObjectFromString(y.data("hide"));$.isEmptyObject(M)||$.isEmptyObject(A)||(T.showCssObj=M,T.hideCssObj=A),(y=new PhysicsScroller(y,m,T)).on(PhysicsScroller.INDEX_CHANGE,J,["thumb",d]),y.on(PhysicsScroller.TOGGLE,q,[d]),i.thumbScroller=y,i.thumbsToggleButton.hammer().on("tap",{index:d},E),y.show()?TweenMax.set(i.thumbsToggleButton,i.thumbsToggleOnObj):TweenMax.set(i.thumbsToggleButton,i.thumbsToggleOffObj)}if(C.objs.push(i),C.lastSliderIndex++,Q(d),ee(d),1==i.caption.length){var S=Utils.getAttrObjectFromString(i.caption.data("options"));S.showCssObj=Utils.getAttrObjectFromString(i.caption.data("show")),S.hideCssObj=Utils.getAttrObjectFromString(i.caption.data("hide")),i.captionObj=new Caption(i.caption,S),i.captionToggleButton=a.find("[data-elem='captionToggle']").eq(0),i.captionToggleOnObj=Utils.getAttrObjectFromString(i.captionToggleButton.data("on")),i.captionToggleOffObj=Utils.getAttrObjectFromString(i.captionToggleButton.data("off")),i.captionToggleButton.hammer().on("tap",{index:d},_),i.captionObj.html(C.objs[d].slider.caption)}if(i.closeButton=a.find("[data-elem='close']").eq(0),i.autoPlayButton.hammer().on("tap",{index:d},Z),i.prevButton.hammer().on("tap",{index:d},R),i.nextButton.hammer().on("tap",{index:d},W),i.zoomInButton.hammer().on("tap",{index:d},X),i.zoomOutButton.hammer().on("tap",{index:d},Y),i.closeButton.hammer().on("tap",{index:d},F),null!==Utils.androidVer&&Utils.androidVer<4.1)for(var k=[i.autoPlayButton,i.prevButton,i.nextButton,i.zoomInButton,i.zoomOutButton,i.closeButton],z=0;z<k.length;z++)0<k[z].length&&TweenMax.set([k[z],k[z].parent()],{transformPerspective:500});O.autoPlay()?TweenMax.set(i.autoPlayButton,i.autoPlayOnObj):TweenMax.set(i.autoPlayButton,i.autoPlayOffObj);var I=i.sliderHolderVars.initShow?i.sliderHolderShow:i.sliderHolderHide;TweenMax.set(i.sliderHolder,I),i.sliderHolderVisibility&&!i.sliderHolderVars.initShow&&TweenMax.set(i.sliderHolder.parent(),{display:"none"})}if(0<t){var P=$("*[data-link]"),U=P.length;for(n=0;n<U;n++){var H={removed:!1},D=P.eq(n),B=D.data("link");H.onObj=Utils.getAttrObjectFromString(D.data("on")),H.offObj=Utils.getAttrObjectFromString(D.data("off")),H.sliderIndex=0,H.id=D.attr("id")||"imageLink"+C.lastLinkIndex,isNaN(B)?(B=Utils.getAttrObjectFromString(D.data("link")),H.sliderIndex=L(B.slider),H.slider=C.objs[H.sliderIndex].slider,H.index=parseInt(B.index)||0):(H.slider=C.objs[0].slider,H.index=B),D.hammer().on("tap",{index:C.lastLinkIndex},N),H.imageLink=D,C.linkObjs.push(H),D.removeAttr("data-link"),C.lastLinkIndex++}for(n=0;n<t;n++)K(n)}e.removeAttr("data-elem")},e.TouchNSwipe=C}(window);